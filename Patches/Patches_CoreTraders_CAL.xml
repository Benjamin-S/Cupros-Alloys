<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<!-- If Expanded Power is not found, add the resources to the traders -->
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<Operations>
			<li Class="CuprosAlloys.PatchOperationFindMod">
				<modName>Expanded Power</modName>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/DefPackage-TraderKindDef/TraderKindDef[defName = "Caravan_Outlander_BulkGoods"]/stockGenerators</xpath>
				<value>
					<li Class="StockGenerator_SingleDef">
						<thingDef>EXP_Copper</thingDef>
						<countRange>
							<min>150</min>
							<max>300</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>EXP_Lead</thingDef>
						<countRange>
							<min>150</min>
							<max>300</max>
						</countRange>
					</li>
				</value>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/DefPackage-TraderKindDef/TraderKindDef[defName = "Orbital_BulkGoods"]/stockGenerators</xpath>
				<value>
					<li Class="StockGenerator_SingleDef">
						<thingDef>EXP_Copper</thingDef>
						<countRange>
							<min>400</min>
							<max>700</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>EXP_Lead</thingDef>
						<countRange>
							<min>400</min>
							<max>700</max>
						</countRange>
					</li>
				</value>
			</li>
		</Operations>
	</Operation>

	<!-- These resources get assigned to traders regardless -->
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<Operations>
			<li Class="PatchOperationAdd">
				<xpath>/DefPackage-TraderKindDef/TraderKindDef[defName = "Caravan_Outlander_BulkGoods"]/stockGenerators</xpath>
				<value>
					<li Class="StockGenerator_SingleDef">
						<thingDef>EXP_Tin</thingDef>
						<countRange>
							<min>150</min>
							<max>300</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_Aluminum</thingDef>
						<countRange>
							<min>150</min>
							<max>300</max>
						</countRange>
					</li>
				</value>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/DefPackage-TraderKindDef/TraderKindDef[defName = "Caravan_Outlander_Exotic"]/stockGenerators</xpath>
				<value>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_Plumchalcum</thingDef>
						<countRange>
							<min>75</min>
							<max>200</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_Bronze</thingDef>
						<countRange>
							<min>75</min>
							<max>200</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_Hepatzion</thingDef>
						<countRange>
							<min>50</min>
							<max>150</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_Brass</thingDef>
						<countRange>
							<min>50</min>
							<max>100</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_Aurichalcum</thingDef>
						<countRange>
							<min>50</min>
							<max>100</max>
						</countRange>
					</li>
				</value>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/DefPackage-TraderKindDef/TraderKindDef[defName = "Orbital_BulkGoods"]/stockGenerators</xpath>
				<value>
					<li Class="StockGenerator_SingleDef">
						<thingDef>EXP_Tin</thingDef>
						<countRange>
							<min>400</min>
							<max>700</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_Aluminum</thingDef>
						<countRange>
							<min>400</min>
							<max>700</max>
						</countRange>
					</li>
				</value>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/DefPackage-TraderKindDef/TraderKindDef[defName = "Orbital_Exotic"]/stockGenerators</xpath>
				<value>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_SterlingSilver</thingDef>
						<countRange>
							<min>400</min>
							<max>700</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_RoseGold</thingDef>
						<countRange>
							<min>400</min>
							<max>700</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_BlackSteel</thingDef>
						<countRange>
							<min>400</min>
							<max>700</max>
						</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>CAL_Plastin</thingDef>
						<countRange>
							<min>50</min>
							<max>200</max>
						</countRange>
					</li>
				</value>
			</li>
		</Operations>
	</Operation>

</Patch>